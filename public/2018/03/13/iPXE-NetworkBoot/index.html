<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>树莓派搭建iPXE服务并实现无人职守安装CentOS 7 | STAR-CHEN&#39;s BLOG</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="最近我对网络启动产生了浓厚的兴趣，很想亲自搭建一个环境来尝试一下，于是就有了一系列的折腾过程。本篇记录的是使用iPXE来网络启动，自动安装CentOS系统。">
<meta name="keywords" content="iPXE netboot">
<meta property="og:type" content="article">
<meta property="og:title" content="树莓派搭建iPXE服务并实现无人职守安装CentOS 7">
<meta property="og:url" content="http://blog.star-chen.com/2018/03/13/iPXE-NetworkBoot/index.html">
<meta property="og:site_name" content="STAR-CHEN&#39;s BLOG">
<meta property="og:description" content="最近我对网络启动产生了浓厚的兴趣，很想亲自搭建一个环境来尝试一下，于是就有了一系列的折腾过程。本篇记录的是使用iPXE来网络启动，自动安装CentOS系统。">
<meta property="og:locale" content="default">
<meta property="og:image" content="http://blog.star-chen.com/blogimg/vmware_ipxe.gif">
<meta property="og:image" content="http://blog.star-chen.com/blogimg/vbox_ipxe.gif">
<meta property="og:updated_time" content="2018-09-25T12:08:49.893Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="树莓派搭建iPXE服务并实现无人职守安装CentOS 7">
<meta name="twitter:description" content="最近我对网络启动产生了浓厚的兴趣，很想亲自搭建一个环境来尝试一下，于是就有了一系列的折腾过程。本篇记录的是使用iPXE来网络启动，自动安装CentOS系统。">
<meta name="twitter:image" content="http://blog.star-chen.com/blogimg/vmware_ipxe.gif">
  
    <link rel="alternative" href="/atom.xml" title="STAR-CHEN&#39;s BLOG" type="application/atom+xml">
  
  
    <link rel="icon" href="/img/favicon.png">
  
  
      <link rel="stylesheet" href="//cdn.bootcss.com/animate.css/3.5.0/animate.min.css">
  
  <link rel="stylesheet" href="/css/style.css">
  <link rel="stylesheet" href="/font-awesome/css/font-awesome.min.css">
  <link rel="apple-touch-icon" href="/apple-touch-icon.png">
  
  
      <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  
  <!-- 加载特效 -->
    <script src="/js/pace.js"></script>
    <link href="/css/pace/pace-theme-flash.css" rel="stylesheet" />
  <script>
      var yiliaConfig = {
          rootUrl: '/',
          fancybox: true,
          animate: true,
          isHome: false,
          isPost: true,
          isArchive: false,
          isTag: false,
          isCategory: false,
          open_in_new: true
      }
  </script>
</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            
            <img lazy-src="/img/head.jpg" class="js-avatar">
            
        </a>

        <hgroup>
          <h1 class="header-author"><a href="/" title="Hi Mate">STAR-CHEN</a></h1>
        </hgroup>

        
        
        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">博客首页</a></li>
                        
                            <li><a href="/categories/CTF">安全技术&amp;&amp;CTF</a></li>
                        
                            <li><a href="/categories/Program">程序编码</a></li>
                        
                            <li><a href="/categories/Linux">各种折腾Linux</a></li>
                        
                            <li><a href="/about">关于</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fl mail" target="_blank" href="/chanxing9@gmail.com" title="mail">mail</a>
                            
                                <a class="fl github" target="_blank" href="https://github.com/007xiaoxingxing" title="github">github</a>
                            
                                <a class="fl zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                            
                                <a class="fl weibo" target="_blank" href="#" title="weibo">weibo</a>
                            
                                <a class="fl google" target="_blank" href="#" title="google">google</a>
                            
                                <a class="fl twitter" target="_blank" href="#" title="twitter">twitter</a>
                            
                                <a class="fl facebook" target="_blank" href="#" title="facebook">facebook</a>
                            
                                <a class="fl rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <a href="/tags/C/" style="font-size: 10px;">C</a> <a href="/tags/C-pdf/" style="font-size: 10px;">C# pdf</a> <a href="/tags/CTF/" style="font-size: 11.67px;">CTF</a> <a href="/tags/CentOS/" style="font-size: 10px;">CentOS</a> <a href="/tags/Debugger/" style="font-size: 10px;">Debugger</a> <a href="/tags/Django/" style="font-size: 10px;">Django</a> <a href="/tags/Django-djangorestframework/" style="font-size: 10px;">Django djangorestframework</a> <a href="/tags/Edtor/" style="font-size: 10px;">Edtor</a> <a href="/tags/GDB/" style="font-size: 10px;">GDB</a> <a href="/tags/Github/" style="font-size: 10px;">Github</a> <a href="/tags/Helloworld/" style="font-size: 10px;">Helloworld</a> <a href="/tags/LNMP/" style="font-size: 10px;">LNMP</a> <a href="/tags/Linux/" style="font-size: 18.33px;">Linux</a> <a href="/tags/MariaDB/" style="font-size: 11.67px;">MariaDB</a> <a href="/tags/New-DB/" style="font-size: 10px;">New DB</a> <a href="/tags/Nignx/" style="font-size: 10px;">Nignx</a> <a href="/tags/OpenWrt/" style="font-size: 10px;">OpenWrt</a> <a href="/tags/PHP/" style="font-size: 10px;">PHP</a> <a href="/tags/PIL/" style="font-size: 10px;">PIL</a> <a href="/tags/PWN/" style="font-size: 11.67px;">PWN</a> <a href="/tags/Remote/" style="font-size: 10px;">Remote</a> <a href="/tags/SWAP/" style="font-size: 10px;">SWAP</a> <a href="/tags/VIM/" style="font-size: 10px;">VIM</a> <a href="/tags/Webhook/" style="font-size: 10px;">Webhook</a> <a href="/tags/cmd/" style="font-size: 10px;">cmd</a> <a href="/tags/code-deploy/" style="font-size: 10px;">code deploy</a> <a href="/tags/django/" style="font-size: 16.67px;">django</a> <a href="/tags/djangorestframework/" style="font-size: 18.33px;">djangorestframework</a> <a href="/tags/docker/" style="font-size: 11.67px;">docker</a> <a href="/tags/domain/" style="font-size: 10px;">domain</a> <a href="/tags/enviroment/" style="font-size: 10px;">enviroment</a> <a href="/tags/github/" style="font-size: 10px;">github</a> <a href="/tags/grub/" style="font-size: 10px;">grub</a> <a href="/tags/hello-hexo/" style="font-size: 10px;">hello hexo</a> <a href="/tags/https/" style="font-size: 10px;">https</a> <a href="/tags/iPXE-netboot/" style="font-size: 10px;">iPXE netboot</a> <a href="/tags/iPXE-winpe/" style="font-size: 10px;">iPXE winpe</a> <a href="/tags/java/" style="font-size: 15px;">java</a> <a href="/tags/kms/" style="font-size: 10px;">kms</a> <a href="/tags/kvm/" style="font-size: 11.67px;">kvm</a> <a href="/tags/kvm-noVNC/" style="font-size: 10px;">kvm noVNC</a> <a href="/tags/linux/" style="font-size: 13.33px;">linux</a> <a href="/tags/liux/" style="font-size: 10px;">liux</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/nginx/" style="font-size: 13.33px;">nginx</a> <a href="/tags/openwrt/" style="font-size: 11.67px;">openwrt</a> <a href="/tags/peda/" style="font-size: 10px;">peda</a> <a href="/tags/postgres/" style="font-size: 10px;">postgres</a> <a href="/tags/pwnable/" style="font-size: 11.67px;">pwnable</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/python-djangorestframework/" style="font-size: 10px;">python djangorestframework</a> <a href="/tags/python-note/" style="font-size: 10px;">python note</a> <a href="/tags/python-socket/" style="font-size: 10px;">python socket</a> <a href="/tags/python-web-Django/" style="font-size: 11.67px;">python web Django</a> <a href="/tags/router/" style="font-size: 10px;">router</a> <a href="/tags/sql/" style="font-size: 10px;">sql</a> <a href="/tags/sqli-docker/" style="font-size: 10px;">sqli docker</a> <a href="/tags/ssh/" style="font-size: 10px;">ssh</a> <a href="/tags/ssh-key/" style="font-size: 10px;">ssh key</a> <a href="/tags/tcp-program/" style="font-size: 10px;">tcp program</a> <a href="/tags/tornado/" style="font-size: 11.67px;">tornado</a> <a href="/tags/ubuntu/" style="font-size: 10px;">ubuntu</a> <a href="/tags/web/" style="font-size: 11.67px;">web</a> <a href="/tags/web-cookie/" style="font-size: 10px;">web cookie</a> <a href="/tags/入坑/" style="font-size: 10px;">入坑</a> <a href="/tags/冒泡排序/" style="font-size: 10px;">冒泡排序</a> <a href="/tags/学习笔记/" style="font-size: 10px;">学习笔记</a> <a href="/tags/工厂模式/" style="font-size: 10px;">工厂模式</a> <a href="/tags/排序/" style="font-size: 11.67px;">排序</a> <a href="/tags/插入排序/" style="font-size: 10px;">插入排序</a> <a href="/tags/文件权限/" style="font-size: 10px;">文件权限</a> <a href="/tags/暴力破解/" style="font-size: 10px;">暴力破解</a> <a href="/tags/算法/" style="font-size: 11.67px;">算法</a> <a href="/tags/自动部署/" style="font-size: 10px;">自动部署</a> <a href="/tags/装饰者模式/" style="font-size: 10px;">装饰者模式</a> <a href="/tags/观察者模式/" style="font-size: 10px;">观察者模式</a> <a href="/tags/记录/" style="font-size: 10px;">记录</a> <a href="/tags/设计模式/" style="font-size: 13.33px;">设计模式</a> <a href="/tags/转发/" style="font-size: 10px;">转发</a>
                    </div>
                </section>
                
                
                

                
                
                <section class="switch-part switch-part3">
                
                    <div id="js-aboutme">不会做规划的黑客不是名好测量员？</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="Me">STAR-CHEN</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                
                    <img lazy-src="/img/head.jpg" class="js-avatar">
                
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="Me">STAR-CHEN</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">博客首页</a></li>
                
                    <li><a href="/categories/CTF">安全技术&amp;&amp;CTF</a></li>
                
                    <li><a href="/categories/Program">程序编码</a></li>
                
                    <li><a href="/categories/Linux">各种折腾Linux</a></li>
                
                    <li><a href="/about">关于</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                <div class="social">
                    
                        <a class="mail" target="_blank" href="/chanxing9@gmail.com" title="mail">mail</a>
                    
                        <a class="github" target="_blank" href="https://github.com/007xiaoxingxing" title="github">github</a>
                    
                        <a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
                    
                        <a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
                    
                        <a class="google" target="_blank" href="#" title="google">google</a>
                    
                        <a class="twitter" target="_blank" href="#" title="twitter">twitter</a>
                    
                        <a class="facebook" target="_blank" href="#" title="facebook">facebook</a>
                    
                        <a class="rss" target="_blank" href="/atom.xml" title="rss">rss</a>
                    
                </div>
            </nav>
        </header>                
    </div>
</nav>
      <div class="body-wrap"><article id="post-iPXE-NetworkBoot" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2018/03/13/iPXE-NetworkBoot/" class="article-date">
      <time datetime="2018-03-13T03:39:55.000Z" itemprop="datePublished">2018-03-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      树莓派搭建iPXE服务并实现无人职守安装CentOS 7
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/Linux/">Linux</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iPXE-netboot/">iPXE netboot</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p>最近我对网络启动产生了浓厚的兴趣，很想亲自搭建一个环境来尝试一下，于是就有了一系列的折腾过程。本篇记录的是使用iPXE来网络启动，自动安装CentOS系统。</p>
<a id="more"></a>
<h4 id="基本技术介绍"><a href="#基本技术介绍" class="headerlink" title="基本技术介绍"></a>基本技术介绍</h4><p>PXE:</p>
<p>​    PXE(preboot execute environment，预启动执行环境)是由Intel公司开发的最新技术，工作于Client/Server的网络模式，支持工作站通过网络从远端服务器下载映像，并由此支持通过网络启动操作系统，在启动过程中，终端要求服务器分配IP地址，再用TFTP（trivial file transfer protocol）或MTFTP(multicast trivial file transfer protocol)协议下载一个启动软件包到本机内存中执行，由这个启动软件包完成终端（客户端）基本软件设置，从而引导预先安装在服务器中的终端操作系统。PXE可以引导多种操作系统，如:Windows95/98/2000/windows2003/windows2008/winXP/win7/win8,linux系列系统等。</p>
<p>iPXE:</p>
<p>​    iPXE is the leading open source network boot firmware. It provides a full PXE implementation enhanced with additional features such as:</p>
<p>boot from a web server via HTTP<br>boot from an iSCSI SAN<br>boot from a Fibre Channel SAN via FCoE<br>boot from an AoE SAN<br>boot from a wireless network<br>boot from a wide-area network<br>boot from an Infiniband network<br>control the boot process with a script<br>You can use iPXE to replace the existing PXE ROM on your network card, or you can chainload into iPXE to obtain the features of iPXE without the hassle of reflashing.</p>
<p>iPXE is free, open-source software licensed under the GNU GPL (with some portions under GPL-compatible licences), and is included in products from several network card manufacturers and OEMs.</p>
<p>iPXE是一个开源的网络启动固件，它使用了诸如http,ftp等协议来传输，相较于普通的PXE固件使用TFTP来进行文件传输速度更快，而且还支持烧录到网卡芯片，CD-ROM，U盘上，有了它，只要有网络的地方就可以启动机器进行系统维护或者系统安装了。</p>
<p>iPXE官网地址：<a href="http://ipxe.org" target="_blank" rel="noopener">http://ipxe.org</a>   该项目开源，可以自己克隆代码进行编译。</p>
<h4 id="软硬件环境准备"><a href="#软硬件环境准备" class="headerlink" title="软硬件环境准备"></a>软硬件环境准备</h4><p>硬件：树莓派3，提供系统支持，用作启动服务器。当然，如果有其它Linux系统的电脑也是可以的。</p>
<p>软件：nginx，作为web服务器，提供系统镜像，本地软件源。dnsmasq，dnsmasq自身带有tftp服务器，支持pxe，支持dhcpPROXY模式，有了它就不用再去安装单独的dhcp服务器和tftp服务器了。</p>
<p>安装软件：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~ $ sudo apt-get instal nginx</span><br><span class="line">pi@raspberrypi:~ $ sudo apt-get instal dnsmasq</span><br></pre></td></tr></table></figure>
<h4 id="准备所需的系统镜像和pxe文件"><a href="#准备所需的系统镜像和pxe文件" class="headerlink" title="准备所需的系统镜像和pxe文件"></a>准备所需的系统镜像和pxe文件</h4><p>下载CentOS7系统镜像，并复制相应文件到web目录：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~ $ wget https://mirrors.aliyun.com/centos/7.4.1708/isos/x86_64/CentOS-7-x86_64-Minimal-1708.iso</span><br><span class="line">pi@raspberrypi:~ $ mount CentOS-7-x86_64-Minimal-1708.iso /mnt</span><br><span class="line">pi@raspberrypi:~ $ sudo mkdir -p /var/www/html/centos/7/x86_64/</span><br><span class="line">pi@raspberrypi:~ $ sudo cp -r /mnt/* /var/www/html/centos/7/x86_64/</span><br></pre></td></tr></table></figure>
<p>下载iPXE相关的启动文件到web目录</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:/var/www/html $ sudo wget http://boot.ipxe.org/undionly.kpxe</span><br></pre></td></tr></table></figure>
<p>现在我的web根目录的文件内容：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:/var/www/html $ ls -la</span><br><span class="line">总用量 811112</span><br><span class="line">drwxr-xr-x 3 root root      4096 3月  12 21:53 .</span><br><span class="line">drwxr-xr-x 3 root root      4096 10月 21 09:31 ..</span><br><span class="line">-rw-r--r-- 1 root root        43 3月  12 21:52 boot.txt</span><br><span class="line">drwxr-xr-x 3 pi   pi        4096 3月  12 15:23 centos</span><br><span class="line">-rw-r--r-- 1 pi   pi   830472192 9月   5  2017 CentOS-7-x86_64-Minimal-1708.iso</span><br><span class="line">-rw-r--r-- 1 root root      1191 3月  12 20:13 ks.cfg</span><br><span class="line">-rw-r--r-- 1 pi   pi         705 3月  12 19:56 menu.conf</span><br><span class="line">-rw-r--r-- 1 root root     67369 3月  12 21:00 undionly.kpxe</span><br></pre></td></tr></table></figure>
<p>编写启动菜单menu.conf，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">#!ipxe</span><br><span class="line">    set menu-timeout 20000</span><br><span class="line">    set munu-default winpe</span><br><span class="line">    set protocal:string http</span><br><span class="line">    isset $&#123;ip&#125; || dhcp</span><br><span class="line">:start</span><br><span class="line">    menu iPXE Boot Menu --$&#123;ip&#125;</span><br><span class="line">    item  winpe         Boot WindowsPE</span><br><span class="line">    item centos7        Boot CentOS</span><br><span class="line">    item shell          Boot iPXE Shell</span><br><span class="line">    choose --timeout $&#123;menu-timeout&#125; --default $&#123;menu-default&#125; selected</span><br><span class="line">    goto $&#123;selected&#125;</span><br><span class="line">:centos7</span><br><span class="line">    #set base http://mirrors.aliyun.com/centos/7.4.1708/os/x86_64</span><br><span class="line">    set base http://192.168.2.189/centos/7/x86_64</span><br><span class="line">    kernel $&#123;base&#125;/images/pxeboot/vmlinuz initrd=initrd.img ks=http://192.168.2.189/ks.cfg repo=$&#123;base&#125;</span><br><span class="line">    initrd $&#123;base&#125;/images/pxeboot/initrd.img</span><br><span class="line">    boot</span><br><span class="line">:winpe</span><br><span class="line">    kernel $&#123;protocal&#125;://$&#123;next-server&#125;/boot/wimboot</span><br></pre></td></tr></table></figure>
<p>编辑dnsmasq配置文件，使其支持pxe，让它能够根据网卡不同的请求发送不同的boot file。由于我的电脑和树莓派都接在一台openwrt路由器下边，路由器已经开启了DHCP功能，为了不对路由器本身的DHCP功能造成影响，我的pxe服务器上的dnsmasq配置为proxy模式，只对pxe请求作出响应，普通的DHCP请求分配IP地址不作响应。话说为了这个配置文件我真是搜索了好多资料，也经过了无数次的尝试，总是在iPXE固件的第二次DHCP请求时无法发送菜单内容过去，卡住了很久，最终在谷歌的帮助下，搜索到一篇文章，用他的配置终于成功了。</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">no-daemon  #不作为守护进程，保持在前台，便于调试，正常使用时可去掉</span><br><span class="line">dhcp-range=192.168.2.0,proxy #自己所在的需要代理的网段，我的是192.168.2.0</span><br><span class="line">dhcp-boot=tag:!ipxe,undionly.kpxe,192.168.2.189 #如果不是ipxe固件发起的，则发送undionly.kpxe</span><br><span class="line">dhcp-match=set:ipxe,175 # gPXE/iPXE sends a 175 option.</span><br><span class="line">dhcp-boot=tag:!ipxe,undionly.kpxe </span><br><span class="line">dhcp-boot=http://192.168.2.189/menu.conf,192.168.2.189,192.168.2.189 #如果是ipxe发起的请求，则发送菜单链接，后边两个ip为pxe服务器ip</span><br><span class="line">pxe-service=tag:!ipxe,x86PC,"splash",undionly.kpxe #对所有的pxe请求做出响应，发送undionly.kcpxe</span><br><span class="line">enable-tftp #开启tftp</span><br><span class="line">tftp-root=/var/www/html/  #设置tftp的根目录</span><br><span class="line">log-queries  #打印所有dhcp请求，用于调试</span><br><span class="line">conf-dir=/etc/dnsmasq.d  #包含的其他配置</span><br></pre></td></tr></table></figure>
<h4 id="服务测试"><a href="#服务测试" class="headerlink" title="服务测试"></a>服务测试</h4><p>开启dnsmasq服务：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~/pxe_start $ sudo dnsmasq -C proxy_dhcp </span><br><span class="line">dnsmasq: started, version 2.76 cachesize 150</span><br><span class="line">dnsmasq: compile time options: IPv6 GNU-getopt DBus i18n IDN DHCP DHCPv6 no-Lua TFTP conntrack ipset auth DNSSEC loop-detect inotify</span><br><span class="line">dnsmasq-dhcp: DHCP, proxy on subnet 192.168.2.0</span><br><span class="line">dnsmasq-tftp: TFTP root is /var/www/html/ </span><br><span class="line">dnsmasq: reading /etc/resolv.conf</span><br><span class="line">dnsmasq: using nameserver 192.168.2.1#53</span><br><span class="line">dnsmasq: read /etc/hosts - 5 addresses</span><br></pre></td></tr></table></figure>
<p>开启nginx服务：</p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pi@raspberrypi:~/pxe_start $ sudo nginx</span><br></pre></td></tr></table></figure>
<p>建立虚拟机，设置网络模式为桥接。</p>
<p>vmare的启动效果：</p>
<p><img src="/blogimg/vmware_ipxe.gif" alt="image"></p>
<p>vbox启动效果图：</p>
<p><img src="/blogimg/vbox_ipxe.gif" alt="imange"></p>
<h4 id="CentOS无人职守自动安装"><a href="#CentOS无人职守自动安装" class="headerlink" title="CentOS无人职守自动安装"></a>CentOS无人职守自动安装</h4><p>在一台有图形界面的机器上安装kickstart，然后按照提示生成ks.cfg文件。我的ks.cfg是从一台已经安装好的centos上提取的，内容如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">#platform=86, AMD64, or Intel EM64T</span><br><span class="line"></span><br><span class="line">#version=DEVEL</span><br><span class="line"># System authorization information</span><br><span class="line">auth --useshadow  --passalgo=sha512</span><br><span class="line"># Install OS instead of upgrade</span><br><span class="line">install</span><br><span class="line"># Use network installation</span><br><span class="line">url --url=&quot;http://192.168.2.189/centos/7/x86_64/&quot;</span><br><span class="line"># Use text mode install</span><br><span class="line">text</span><br><span class="line"># Firewall configuration</span><br><span class="line">firewall --disabled</span><br><span class="line">firstboot --disable</span><br><span class="line">ignoredisk --only-use=sda</span><br><span class="line"># Keyboard layouts</span><br><span class="line"># old format: keyboard us</span><br><span class="line"># new format:</span><br><span class="line">keyboard --vckeymap=us --xlayouts=&apos;&apos;</span><br><span class="line"># System language</span><br><span class="line">lang en_US.UTF-8</span><br><span class="line"></span><br><span class="line"># Network information</span><br><span class="line">network  --bootproto=dhcp --device=eth0 --activate</span><br><span class="line">network  --hostname=localhost.localdomain</span><br><span class="line"># Reboot after installation</span><br><span class="line">reboot</span><br><span class="line"># Root password</span><br><span class="line">rootpw --iscrypted $1$.iNc/OT7$5cYmijQ4G5pBjxC8sgAIJ/</span><br><span class="line"># SELinux configuration</span><br><span class="line">selinux --enforcing</span><br><span class="line"># System services</span><br><span class="line">services --enabled=&quot;chronyd&quot;</span><br><span class="line"># Do not configure the X Window System</span><br><span class="line">skipx</span><br><span class="line"># System timezone</span><br><span class="line">timezone Asia/Shanghai</span><br><span class="line"># System bootloader configuration</span><br><span class="line">bootloader --append=&quot; crashkernel=auto&quot; --location=mbr --boot-drive=sda</span><br><span class="line">autopart --type=lvm</span><br><span class="line"># Partition clearing information</span><br><span class="line">clearpart --all --initlabel --drives=sda</span><br><span class="line"></span><br><span class="line">%packages</span><br><span class="line">@core</span><br><span class="line">chrony</span><br><span class="line">kexec-tools</span><br><span class="line"></span><br><span class="line">%end</span><br><span class="line"></span><br><span class="line">%addon com_redhat_kdump --enable --reserve-mb=&apos;auto&apos;</span><br><span class="line"></span><br><span class="line">%end</span><br></pre></td></tr></table></figure>
<p>要实现自动安装，在启动菜单中给个内核参数即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kernel $&#123;base&#125;/images/pxeboot/vmlinuz initrd=initrd.img ks=http://192.168.2.189/ks.cfg</span><br></pre></td></tr></table></figure>
<p>自此，pxe启动自动安装centos搭建完成，接下来再尝试启动其它系统和winpe。</p>
<p>参考链接：</p>
<p><a href="https://dev.to/arachan/ipxe-chainloading-to-use-dnsmasq-and-proxydhcp-4he" target="_blank" rel="noopener">https://dev.to/arachan/ipxe-chainloading-to-use-dnsmasq-and-proxydhcp-4he</a></p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
        <p><span>本文标题:</span><a href="/2018/03/13/iPXE-NetworkBoot/">树莓派搭建iPXE服务并实现无人职守安装CentOS 7</a></p>
        <p><span>文章作者:</span><a href="/" title="访问 STAR-CHEN 的个人博客">STAR-CHEN</a></p>
        <p><span>发布时间:</span>2018年03月13日 - 11时39分</p>
        <p><span>最后更新:</span>2018年09月25日 - 20时08分</p>
        <p>
            <span>原始链接:</span><a class="post-url" href="/2018/03/13/iPXE-NetworkBoot/" title="树莓派搭建iPXE服务并实现无人职守安装CentOS 7">http://blog.star-chen.com/2018/03/13/iPXE-NetworkBoot/</a>
            <span class="copy-path" data-clipboard-text="原文: http://blog.star-chen.com/2018/03/13/iPXE-NetworkBoot/　　作者: STAR-CHEN" title="点击复制文章链接"><i class="fa fa-clipboard"></i></span>
            <script src="/js/clipboard.min.js"></script>
            <script> var clipboard = new Clipboard('.copy-path'); </script>
        </p>
        <p>
            <span>许可协议:</span><i class="fa fa-creative-commons"></i> <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/3.0/cn/" title="中国大陆 (CC BY-NC-SA 3.0 CN)" target = "_blank">"署名-非商用-相同方式共享 3.0"</a> 转载请保留原文链接及作者。
        </p>
    </div>



<nav id="article-nav">
  
    <a href="/2018/03/14/iPXE-WinPE/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption"><</strong>
      <div class="article-nav-title">
        
          iPXE启动Windows PE
        
      </div>
    </a>
  
  
    <a href="/2018/03/08/web-vnc/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">在浏览器中通过VNC远程控制虚拟机</div>
      <strong class="article-nav-caption">></strong>
    </a>
  
</nav>

  
</article>

    <div id="toc" class="toc-article">
    <strong class="toc-title">文章目录</strong>
    <ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#基本技术介绍"><span class="toc-number">1.</span> <span class="toc-text">基本技术介绍</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#软硬件环境准备"><span class="toc-number">2.</span> <span class="toc-text">软硬件环境准备</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#准备所需的系统镜像和pxe文件"><span class="toc-number">3.</span> <span class="toc-text">准备所需的系统镜像和pxe文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#服务测试"><span class="toc-number">4.</span> <span class="toc-text">服务测试</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#CentOS无人职守自动安装"><span class="toc-number">5.</span> <span class="toc-text">CentOS无人职守自动安装</span></a></li></ol>
</div>
<input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

<script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script>
    var valueHide = "隐藏目录";
    var valueShow = "显示目录";

    if ($(".left-col").is(":hidden")) {
        $("#tocButton").attr("value", valueShow);
    }
    $("#tocButton").click(function() {
        if ($("#toc").is(":hidden")) {
            $("#tocButton").attr("value", valueHide);
            $("#toc").slideDown(320);
        }
        else {
            $("#tocButton").attr("value", valueShow);
            $("#toc").slideUp(350);
        }
    })
    if ($(".toc").length < 1) {
        $("#toc, #tocButton").hide();
    }
</script>





<div class="bdsharebuttonbox">
	<a href="#" class="fx fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
	<a href="#" class="fx fa-weixin bds_weixin" data-cmd="weixin" title="分享到微信"></a>
	<a href="#" class="fx fa-qq bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
	<a href="#" class="fx fa-facebook-official bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
	<a href="#" class="fx fa-twitter bds_twi" data-cmd="twi" title="分享到Twitter"></a>
	<a href="#" class="fx fa-linkedin bds_linkedin" data-cmd="linkedin" title="分享到linkedin"></a>
	<a href="#" class="fx fa-files-o bds_copy" data-cmd="copy" title="分享到复制网址"></a>
</div>
<script>window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"2","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];</script>




    
      <div class="duoshuo" id="comments">
    <!-- 多说评论框 start -->
    <div class="ds-thread" data-thread-key="2018/03/13/iPXE-NetworkBoot/" data-title="树莓派搭建iPXE服务并实现无人职守安装CentOS 7" data-url="http://blog.star-chen.com/2018/03/13/iPXE-NetworkBoot/"></div>
    <!-- 多说评论框 end -->
    <!-- 多说公共JS代码 start (一个网页只需插入一次) -->
    <script type="text/javascript">
    var duoshuoQuery = {short_name:"star-chen"};
    (function() {
        var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = '/js/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
         || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
    </script>
    <!-- 多说公共JS代码 end -->
</div>

    



    <div class="scroll" id="post-nav-button">
        
            <a href="/2018/03/14/iPXE-WinPE/" title="上一篇: iPXE启动Windows PE">
                <i class="fa fa-angle-left"></i>
            </a>
        
        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>
        
            <a href="/2018/03/08/web-vnc/" title="下一篇: 在浏览器中通过VNC远程控制虚拟机">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>
    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/09/25/Ubuntu1804-WakeOnLAN/">Ubuntu18.04开启WakeOnLAN</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/23/Jwt-IN-DRF/">在DRF中科学的使用JWT</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/07/Docker-KMS-Windows-Activate/">搭建用于激活Windows系统和Office的Docker</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/04/LibPCAP-NIC-INFO/">libpcap折腾系列之获取系统网卡信息</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/08/03/Django-ORM-GROUP-BY/">Django ORM进行group by 操作</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/15/OpenWRT-Wget-InvalidCertificate/">OpenWRT中Wget报Invalid SSL certificate</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/07/Docker-Stop-Start/">从docker stop/start出发，实现自动启动容器内应用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/06/Postgres-Proper-Sql/">Postgres的特色语法</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/06/DockerSQLiLabs/">制作SQLiLabs的Docker镜像</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/28/Linux-pkexe/">Linux实用命令之pkexec</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/26/win10-grub-default/">Win10与Linux双系统时，使用GRUB作为默认引导</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/21/Migrate-Django1-x-To-Django2-0/">从Django1.x迁移至2.0需要注意的几个点</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/14/iPXE-WinPE/">iPXE启动Windows PE</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/13/iPXE-NetworkBoot/">树莓派搭建iPXE服务并实现无人职守安装CentOS 7</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/08/web-vnc/">在浏览器中通过VNC远程控制虚拟机</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/08/kvm-win7-install/">KVM命令行安装windows7</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/08/cookie-property/">Cookie各属性的作用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/05/ubuntu-kvm/">Ubuntu上安装使用KVM</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/13/nginx-location-rule/">Nginx location的匹配规则</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/python-metaclass/">python学习笔记之------元类</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/12/04/install-pcapy/">win10+python2.7  安装pcapy</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/30/python-module-atexit/">Python学习笔记之------atexit模块</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/28/python-utc-local/">python编程笔记之-----UTC格式时间字符串与本地时间对象相互转换</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/23/Python-Closure/">Python学习笔记之-----闭包</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/22/Ubuntu-17-10-Systemd-Networkd/">Ubuntu-17.10-使用Systemd-Networkd接管网络配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/17/DictInListSorted/">Python编程实践-----List中嵌套Dict，根据Dict的value进行排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/19/PythonSingleton/">Python中实现单例模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/19/PythonEpoll/">在python中使用epoll实现非阻塞io</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/19/UnixSocket-echodemo/">python中使用Unix socket通信</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/18/WindowsTasklistFilter/">Windows  tasklist筛选器的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/DjangoQuery/">Django 查询</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/DjangowithPostgres/">在Django中使用PosetgreSQL数据库</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/Ubuntu-install-Postgres/">Ubuntu 17.04 安装PostgreSQL</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/python-kwargs/">python-**kwargs的用法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/12/Django-Signal/">Django-信号</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/DjangoRESTframework-SchemaClientLib/">DjangoRESTframework-Schema和客户端类库</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/DjangoRESTframework-ViewsetsRouters/">DjangoRESTframework-视图集合和路由</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/DjangoRESTframework-RelationshipsHyperlinkedAPI/">DjangoRESTframework-关系与超链接API</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/11/DjangoRESTframework-AuthenticationPermissions/">DjangoRESTframework-认证与权限</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/10/DjangoRESTframework-class-based-view/">DjangoRESTframework-基于类的视图（class-based views）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/10/DjangoRESTframework-ReqAndRes/">DjangoRESTframework-请求与响应（Request Response）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/10/DjangoRESTframework-serializetion/">DjangoRESTframework-序列化（Serializetion）</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/10/DjangoRESTframework-quickstart/">DjangoRESTframework-快速开始</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/02/Django-helloworld/">Django快速上手笔记之HelloWorld</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/10/02/Django-install/">Django快速上手笔记之安装Django</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/28/python-note-repr/">Python学习笔记之----repr()函数</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/19/TCP-Echo-Demo/">SOCKET编程----Echo Something</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/10/PDF-watermask/">利用iTextSharp向pdf文件中添加图片水印</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/09/09/OpenWrt-HelloWorl/">OpenWrt软件开发-----软件包HelloWorld的构建</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/19/ChangeUbuntuPassWd/">忘记Ubuntu用户密码，怎么办?</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/02/DokerStudy-install/">动手学Docker系列---在操作系统上安装Docker</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/02/LoginNewTP/">TPLINK系列路由器新版UI登录算法</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/06/02/CompileNgrok/">在自己的VPS上编译部署Ngrok</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/31/CompileOpenJDK/">深入理解java虚拟机之动手编译OpenJDK 7</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/23/Linux-Add-Swap/">Linux学习笔记之添加SWAP分区</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/23/Linux-File-Priveleges/">Linux学习笔记之文件权限</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/22/SSH-LOG-USER/">修改OpenSSH源码，记录爆破SSH端口的密码</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/17/BubbleSort/">常见排序算法之冒泡排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/17/InsertSort/">常见排序算法之插入排序</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/12/Factory-Notes/">设计模式学习之工厂模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/05/12/Decorator-Notes/">设计模式学习之装饰者模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/11/MariaDB-Create-Remote/">MariaDB创建新用户、新数据库并允许特定用户远程访问</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/11/Centos7-lnmp/">CentOS 7.2 搭建lnmp环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/16/Observer-Notes/">设计模式学习之观察者模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/15/tornado-requesthandler/">Tornado框架中的Requesthandler</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/15/tornado-hello-world/">与Tornado的第一次接触</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/15/Let-s-Encrypt/">Let's Encrypt && Nginx配置证书，实现https访问</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/15/nginx-diable-domain/">配置nginx，防止ip被恶意绑定域名</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/04/Github-Webhook/">利用Github的webhook和tornado实现代码自动部署</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/12/04/PIL-Grab/">利用Python的PIL截屏</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/30/Github-Add-SSHKEY/">github配置ssh key</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/29/Learn_VIM/">Learn VIM</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/29/C-Helloworld/">Program HelloWorld</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/28/OpenWRT-BuildEnvironMent/">搭建OpenWRT编译开发环境</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/28/Pwnable-collision/">pwnable练习之collision</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/27/Pwnable-fd/">pwnable练习之fd</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/20/GDB-peda/">在Ubuntu16.04上配置peda</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/22/Learn-Markdown/">Learn Markdown</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/07/21/hello-world/">Hello World</a></li></ul>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
    <script>
        $(".post-list").addClass("toc-article");
        $(".post-list-item a").attr("target","_blank");
        $("#post-nav-button > a:nth-child(2)").click(function() {
            $(".fa-bars, .fa-times").toggle();
            $(".post-list").toggle(300);
            if ($(".toc").length > 0) {
                $("#toc, #tocButton").toggle(200, function() {
                    if ($(".switch-area").is(":visible")) {
                        $("#tocButton").attr("value", valueHide);
                        }
                    })
            }
            else {
            }
        })
    </script>



    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                &copy; 2018 STAR-CHEN
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/luuman/hexo-theme-spfk" target="_blank">spfk</a> by luuman
            </div>
        </div>
        
    </div>
</footer>

    </div>
    <script src="https://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>

    <script>
        $(document).ready(function() {
            var backgroundnum = 24;
            var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
            $("#mobile-nav").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
            $(".left-col").css({"background-image": backgroundimg,"background-size": "cover","background-position": "center"});
        })
    </script>





<div class="scroll" id="scroll">
    <a href="#"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments"><i class="fa fa-comments-o"></i></a>
    <a href="#footer"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    $(document).ready(function() {
        if ($("#comments").length < 1) {
            $("#scroll > a:nth-child(2)").hide();
        };
    })
</script>


  <script language="javascript">
    $(function() {
        $("a[title]").each(function() {
            var a = $(this);
            var title = a.attr('title');
            if (title == undefined || title == "") return;
            a.data('title', title).removeAttr('title').hover(

            function() {
                var offset = a.offset();
                $("<div id=\"anchortitlecontainer\"></div>").appendTo($("body")).html(title).css({
                    top: offset.top - a.outerHeight() - 15,
                    left: offset.left + a.outerWidth()/2 + 1
                }).fadeIn(function() {
                    var pop = $(this);
                    setTimeout(function() {
                        pop.remove();
                    }, pop.text().length * 800);
                });
            }, function() {
                $("#anchortitlecontainer").remove();
            });
        });
    });
</script>


  </div>
</body>
</html>